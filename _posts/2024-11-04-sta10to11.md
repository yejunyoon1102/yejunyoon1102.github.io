---
layout : post
title : "데이터 분석 : 통계 101 데이터 분석 10장 ~ 11장"
date : 2024-11-04
categories : [Data Analysis, Statistics]
---
# 10장 ~ 11장

### 10.1 인과와 상관

변수 사이의 관계

- 인과관계 : 원인과 결과의 관계
- 상관관계 : 데이터에서 보이는 관련성

두 변수에 관련된 외부 변수가 존재 - 중첩요인(중첩변수)

인과관계는 없지만 상관관계는 있을 때 - 허위상관

![1.png](/assets/img/posts/STATISTIC/STATISTIC10to11/1.png)

- 인관관계를 알면?
    
    상관관계를 알 때 보다 많은 것 이해
    
    원인변수를 변화시킴으로써 (개입) , 결과 변수를 바꿀 수 있음
    
- 상관관계를 알면?
    
    한쪽 변수로부터 또 다른 변수를 예측 가능
    

### 10.2 무작위 통제 실험

인과관계를 밝히려면..? → 중첩요인 때문에 힘들어..!

- 무작위 통제 실험(randomized control trial, RCT)
    
    변수 X에서 변수 Y로의 인과효과를 추정하는 가장 강력한 방법
    
    알고자 하는 요인인 변수X에 표본을 무작위로 할당하고 개입 실험
    
    why?) 중첩요인을 확인하지 않더라도, 그 효과를 무작위를 이용하여 무효화 가능, 알고자 하는 변수의 효과만 추정 가능
    
    인과 추론의 근본 문제 때문에 개인 수준 말고 집단 수준에서의 인과를 알 수 있음!!
    

무작위 할당이 아닌 경우, 중첩 요인 때문에 선택편향이 일어나게 됨

### 10.3 통계적 인과 추론

개입 실험을 하기에는 윤리적 문제 or 개입 자체가 불가능 → 무작위 불가

무작위 통제 실험 없이 인과관계? → 통계적 인과 추론!

- 다중회귀

![2.png](/assets/img/posts/STATISTIC/STATISTIC10to11/2.png)

원인변수를 x, 결과변수를 y, 중첩요인을 z로 추가함

- 층별 해석

중첩요인을 기준으로 데이터를 몇 가지 그룹(층)으로 나누어, 각 층 안에서 중첩요인의 효과를 가능한 작게 함

![3.png](/assets/img/posts/STATISTIC/STATISTIC10to11/3.png)

- 경향 점수 짝짓기

원인변수 = 0 인 집단, 원인변수 = 1인 집단에서 비슷한 중첩요인을 가진 데이터를 골라 쌍으로 만드는 짝짓기 방법

![4.png](/assets/img/posts/STATISTIC/STATISTIC10to11/4.png)

- 이중차분법

서로 다른 집단에서의 연구 설계

시간축을 도입, 집단 간 차이에 대해 다시 한번 전후의 차분을 취함

![5.png](/assets/img/posts/STATISTIC/STATISTIC10to11/5.png)

but, A에 처리를 가하지 않았을 때는 B와 같은 정도로 증가한다는 가정 필요(평행 경향)

### 11.1 베이즈 통계의 사고방식

- 빈도주의 : 표본 추출에서의 불확실성, 확률을 무한히 반복 실행한 결과로서의 객관적 빈도로 해석
- 베이즈 통계 : 확률을 ‘얼마나 확신하는지’로 해석

![6.png](/assets/img/posts/STATISTIC/STATISTIC10to11/6.png)

- 베이즈 통계 모형
    
    목적 : 데이터의 발생원인 모집단의 실제 분포 q(x)를 아는 것
    
    통계적 추론 필요!!
    
    데이터를 이용하여 추정한 통계 모형(예측분포) p(x)가 모집단의 실제 분포 q(x)와 어느 정도 들어맞는지를 정량화함으로써, 통계모형 p*(x)의 적합도 평가
    
- 베이즈 통계의 사고방식
    
    통계 모형의 파라미터 θ를 확률변수로 취급
    
    통계 모형 p(x l θ)와 함께 분석자가 데이터를 알기 전 단계의 θ확률분포인 사전분포 p(θ)를 마련해두어야
    
    이후 데이터를 안 이후의 θ확률분포인 사후분포 p(x l θ)를 구함
    
    이를 위해 베이즈 정리 이용!!
    
    ![7.png](/assets/img/posts/STATISTIC/STATISTIC10to11/7.png)
    
    베이즈 추정으로 데이터 x를 얻기 전에 파라미터 θ가 어떤 분포인가를 미리 실험자나 해석자가 설정(사전분포)
    
    보통 무정보일 때 사전분포로 균등분포 사용
    
    베이즈 추정으로 얻은 파라미터 θ의 사후분포 p(x l θ)로 예측분포 p*(x)를 만들 수 있음
    

   ![8.png](/assets/img/posts/STATISTIC/STATISTIC10to11/8.png)

- 적합도 평가
    
    실제 모집단분포 q(x)와 예측분포 p*(x)어느 정도 일치하는가 → 쿨백 - 라이블러 발산 이용!
    
    ![9.png](/assets/img/posts/STATISTIC/STATISTIC10to11/9.png)
    
    계산 결과가 작을수록 p*(x)가 실제 모집단 분포 q(x)를 잘 나타냄
    

### 11.2 베이즈 통계 알고리즘

사후분포를 베이즈 정리로 계산하기 힘듦 → MCMC 방법

특정 확률분포를 따르는 난수 발생 알고리즘을 이용하여 사후분포를 따르는 난수를 발생시키고, 그 난수의 집합을 관찰함으로써 사후분포의 성질 분석

- 몬테카를로 방법
    
    난수를 여러 개 발생시켜 시뮬레이션해 근사해를 얻음
    
    수식을 변형하여 구하는 등의 방법과 다르게, 많은 난수를 발생시킨 뒤 그 수를 세어 근사해를 얻음
    
- 마르코프 연쇄
    
    어떤 상태에서 다른 상태로 변화하는 현상을 확률로 표현한 모형의 일종